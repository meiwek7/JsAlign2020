<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
    <div id="userList">

    </div>
  <script>
  // Promise.all([
  //     new Promise((resolve)=>setTimeout(() => {resolve(1)}, 3000)),
  //     new Promise((resolve)=>setTimeout(() => {resolve(2)}, 2000)),
  //     new Promise((resolve)=>setTimeout(() => {resolve(3)}, 1000)),
  //     new Promise((resolve)=>setTimeout(() => {resolve(4)}, 500))
  //   ]).then((result)=>alert(result[0])); 

    let urls = [
      "https://api.github.com/users/vsmalko",
      "https://api.github.com/users/SpaceHolderdJs",
      "ykes",
      "https://api.github.com/users/torvalds",
      "https://api.github.com/users/BjarneStroustrup"
    ];

    // let requests = urls.map(url => fetch(url));

    // Promise.all(requests)
    //   .then(responses => {
    //     responses.forEach(response => console.log(`${response.url} ${response.status}`))
    //     return responses;
    // })
    // .then(responses => Promise.all(responses.map(resp => resp.json())))
    // .then(users => users.forEach(user => console.log(user.name != null ? user.name : user.login)));
    
    // Promise.allSettled(requests)
    //   .then(responses=>responses.forEach((response, num)=>{
    //     if(response.status == "fulfilled") 
    //       console.log(`${urls[num]} ${response.value.status}`)
    //     if(response.status == "rejected")
    //       console.log(`${urls[num]} ${response.reason}`)
    //   }))

    //   Promise.race([
    //     new Promise((resolve, reject)=> setTimeout(() => {resolve(2)}, 1000)),
    //     new Promise((resolve, reject)=> setTimeout(() => {resolve(3)}, 1000)),
    //     new Promise((resolve, reject)=> setTimeout(() => {resolve(1)}, 1000))
    //   ]).then(result => alert(result));

    let userUrl = "https://api.github.com/users/meiwek7";
    let request = fetch(userUrl)
                    .then(response => response.json())
                    .then(data => {
                        console.log(data.repos_url);
                        fetch(data.repos_url)
                            .then(response => response.json())
                            .then(data => data.forEach(repoObject => console.log(`${repoObject.name}`)))
                    });
    
  </script>
</body>
</html>